---
layout: post_gds
title: Why we use progressive enhancement to build GOV.UK
canonical_url: https://gdstechnology.blog.gov.uk/2016/09/19/why-we-use-progressive-enhancement-to-build-gov-uk/
---

<p><a href="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o.jpg"><img class="alignnone size-full wp-image-1898" src="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o.jpg" alt="Picture of laptop keys" srcset="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o.jpg 5760w, https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o-300x200.jpg 300w, https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o-768x512.jpg 768w, https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/28825249152_cd35912c3c_o-1024x683.jpg 1024w" sizes="(max-width: 5760px) 100vw, 5760px"></a></p>
<p>There seems to be a common belief among front-end developers that progressive enhancement is either old fashioned or has simply been replaced by single page applications. This is a problem of perception. We’d like to explain why we use progressive enhancement to build GOV.UK.</p>

{{ excerpt_separator }}

<h2>What is progressive enhancement?</h2>
<p>Progressive enhancement means building the interface of a website or application in layers. If the user’s browser only supports <a href="https://en.wikipedia.org/wiki/HTML">HTML</a> they get content and forms. If the user’s browser also supports styles and fonts the application looks better. If it can run <a href="https://en.wikipedia.org/wiki/JavaScript">JavaScript</a> the user gains extra interactions. Only the core HTML though is required in order to meet users’ basic needs.</p>
<p>Obviously there are many places where JavaScript could be seen to be a requirement. It’s hard to imagine intensive web applications like games and online office suites working without JavaScript. Even in these cases though there are possibilities to use progressive enhancement to benefit the user.</p>
<p>For example, take Google’s spreadsheet web application Sheets, which would seem at first glance to be an obvious place where JavaScript might be required. Sure enough, if you load a spreadsheet without JavaScript enabled you get a notice at the top of the page warning you of problems. What’s good though is that in the absence of JavaScript the user is presented with a non-editable view of the data. This feels like a good compromise: without a script layer the interaction is curtailed, but the document still exists.</p>
<h2>Progressive enhancement improves resilience</h2>
<p>As our <a href="https://twitter.com/RWD/status/536565318370725888">previous GOV.UK technical architect said</a>: “progressive enhancement is about resilience as much as it is about inclusiveness.”</p>
<p>Building in resilience is also known as defensive design: a system shouldn’t break wholly if a single part of it fails or isn’t supported.</p>
<p>We have a mandate to provide digital services to everyone in the UK and many beyond. Many users access services in different ways to the configuration tested by developers. If a person visits GOV.UK we want them to be able to complete their service or access the information they need, regardless of whether we’ve tested their configuration or not.</p>
<p>If you arrive on GOV.UK without web fonts support you get a base sans serif instead of our chosen web font <a href="https://gds.blog.gov.uk/2014/03/05/new-transport-for-gov-uk/">New Transport</a>. If GOV.UK is accessed without <a href="https://www.w3.org/Style/Overview.en.html">stylesheets</a> (these describe how documents are presented on screens), the page’s appearance will change, but it’s still usable because we build on semantic HTML. If a user doesn’t experience style in the same way as the majority, for example if they’re using a screenreader or a Braille display, then they’ll be able to access everything they need. Even if a user turns up using <a href="http://lynx.browser.org/">Lynx</a> or another non-graphical browser they’ll still get a completely usable experience (as you can see in the image).</p>
<p><a href="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/lynxpicture.png"><img class="alignnone size-full wp-image-1899" src="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/lynxpicture.png" alt="Lynx image" srcset="https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/lynxpicture.png 865w, https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/lynxpicture-300x213.png 300w, https://gdstechnology.blog.gov.uk/wp-content/uploads/sites/31/2016/09/lynxpicture-768x545.png 768w" sizes="(max-width: 865px) 100vw, 865px" width="865" height="614"></a></p>
<p>It’s important to understand that it’s often not the conscious choice of users to arrive at your site without JavaScript. We <a href="https://gds.blog.gov.uk/2013/10/21/how-many-people-are-missing-out-on-javascript-enhancement/">did some research</a> and discovered that 0.9% GOV.UK visits are by people who don’t have JavaScript available and haven’t chosen to turn it off. Stuart Langridge gave an excellent explanation of <a href="http://kryogenix.org/code/browser/everyonehasjs.html">the many ways your JavaScript can fail to run</a>. A non-exhaustive list includes the:</p>
<ul>
<li>script hasn’t finished loading, or has stalled and failed to load completely</li>
<li>application route is up, but the route to the <a href="https://en.wikipedia.org/wiki/Content_delivery_network">Content Delivery Network</a> is broken</li>
<li>user has chosen to install a plugin that interferes with the <a href="https://en.wikipedia.org/wiki/Document_Object_Model">Document Object Model (DOM)</a></li>
<li>user has been infected with a plugin that interferes with the DOM</li>
<li>user’s company has a proxy that blocks some or all JavaScript</li>
<li><a href="http://justinsomnia.org/2012/04/hotel-wifi-javascript-injection/">user’s hotel is intercepting the connection</a> and injecting broken JavaScript</li>
<li><a href="https://blog.ryankearney.com/2013/01/comcast-caught-intercepting-and-altering-your-web-traffic/">user’s telecoms provider is intercepting the connection</a> and injecting broken JavaScript</li>
<li><a href="http://www.ietf.org/mail-archive/web/perpass/current/msg01979.html">user’s country is intercepting the connection</a> and injecting broken JavaScript</li>
<li>JavaScript code has functions not implemented by your user’s browser (<a href="http://www.quirksmode.org/dom/core/">older browsers</a>, <a href="http://www.opera.com/mobile/mini">proxy browsers</a>)</li>
</ul>
<p>There’s also the small number of users who choose to turn off JavaScript manually. What with rampant <a href="http://www.networkadvertising.org/understanding-online-advertising/how-does-it-work">cross-domain user tracking by advertisers</a>, as well as <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cross-domain">tracking through analytics</a> and <a href="http://www.wsj.com/articles/SB10001424052748704281504576329441432995616">through social media</a>, not to mention <a href="https://en.wikipedia.org/wiki/Malvertising">malware installation through ad networks</a>, the <a href="https://medium.com/art-marketing/browsing-your-website-does-not-mean-i-want-your-spam-3821267e902">receipt of unwanted email</a> and the impact on page speed and battery life, it’s not surprising that some people choose to do this. The NoScript Firefox add-on is now the <a href="https://addons.mozilla.org/en-US/firefox/extensions/?sort=users">5th most popular extension</a> with over 2 million users.</p>
<h2>Thinking about users leads to progressive enhancement</h2>
<p>It’s only natural that as front-end developers we want to flex our technical skills. We can reach new and better solutions to existing problems by pushing the limits of what a browser can do. There’s an issue with lending more of your focus to the possibilities promised by new technology though: your focus moves away from your users.</p>
<p>Meeting our many users’ needs is <a href="https://www.gov.uk/design-principles">number one on our list of design principles.</a> We can’t know every different setup a person might use while building our systems, but we can build them in a way that gives all of our users the greatest chance of success. Progressive enhancement lets us do this.</p>
<p>When we say that user needs rarely dictate complexity, that doesn’t mean they never do. &nbsp;Recently we prototyped a web chat system using <a href="https://facebook.github.io/react/">React</a>. It’s difficult to imagine a base level of web chat that doesn’t require JavaScript, but we will make sure any webchat system we develop has a standard contact form as its barebones.</p>
<p>We’ve also investigated the possibilities that modern JavaScript APIs (especially Service Workers and the associated technology that make up <a href="https://developers.google.com/web/progressive-web-apps/">Progressive Web Applications</a>) could give us. These are especially interesting as they’re designed with progressive enhancement at their core.</p>
<p>It’s possible to build single page applications in a progressively enhanced way (also known as <a href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9">Universal Javascript</a>). Instead of a typical blank page when JavaScript isn’t available, the system can fall back to rendering a normal web page on the server, and then progressively enhance that with a full client-side application. This type of build can even benefit users who have JavaScript as they can start interacting with the application before the JavaScript has started to run. Having said that, just because you can doesn’t mean you should. In our experience attempts to build progressively enhanced single page applications are fragile, harder to maintain, and can have unforeseen accessibility issues that need additional work to fix.</p>
<p>In the rapid technical evolution that’s happening in front-end development at the moment user needs are getting left behind. We feel that front-end developers owe it to themselves and their users to pick technologies that help provide a better service, rather than those that are currently trending. That isn’t always easy, but the long-term benefits are worth it.</p>
